{% extends "base.html" %}
{% block title %}Challenge{% endblock %}

{% block content %}
<header class="hero" style="padding: 40px 0 50px;">
  <div class="container">
    <a href="{{ url_for('ch.challenges_index') }}" style="text-decoration:none;">‚Üê Terug naar overzicht</a>
    <h1 style="margin-top:8px;">{{ c.title }}</h1>
    <p>Bestanden en downloads voor deze challenge.</p>
  </div>
</header>

<main style="max-width: 960px; margin: 24px auto 60px; padding: 0 20px;">
  <section class="card" style="margin: 16px 0;">
    <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
      <div><strong>{{ c.title }}</strong></div>
      <div>
        <a class="btn" href="{{ url_for('ch.challenge_bundle', cid=c.id) }}">‚¨áÔ∏è Download alle files (.zip)</a>
      </div>
    </div>

    <hr style="border:none;border-top:1px solid #e5e7eb;margin:12px 0;">

    {% if files %}
      <ul style="list-style:none;padding:0;margin:0;">
        {% for f in files %}
          <li style="display:flex;justify-content:space-between;align-items:center;border-top:1px solid #e5e7eb;padding:10px 0;">
            <!-- BESTANDSNAAM = KLIKBAAR -->
            <a href="{{ url_for('ch.challenge_download', cid=c.id, relpath=f.rel) }}"
               style="text-decoration:none;color:#0d9488;font-weight:500">
              üìÑ {{ f.name }}
            </a>

            <!-- Optioneel: aparte downloadknop behouden -->
            <a class="btn" href="{{ url_for('ch.challenge_download', cid=c.id, relpath=f.rel) }}">Download</a>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>Geen bestanden gevonden voor deze challenge.</p>
    {% endif %}
  </section>
</main>
{% endblock %}
